<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Gun Island – Layered Map</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
  #map { height: 90vh; }
</style>
</head>

<body>

<h3>Gun Island – Base Map</h3>
<div id="map"></div>

<script>

// Create map
var map = L.map('map').setView([25, 50], 4);

// Base map — NO labels (clean academic map)
L.tileLayer(
  'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png',
  {
    attribution: '© OpenStreetMap © CARTO'
  }
).addTo(map);

 
// Layers
var placeLayer = L.layerGroup().addTo(map);
var humanRouteLayer = L.featureGroup().addTo(map);
var animalRouteLayer = L.layerGroup().addTo(map);

  // Sundarbans Ecological Zone (Cyclone & Erosion Region)
L.polygon([
    [22.40, 88.10],
    [22.35, 89.10],
    [21.70, 89.60],
    [21.30, 89.20],
    [21.40, 88.20]
], {
    color: "green",
    fillColor: "green",
    fillOpacity: 0.25,
    weight: 2
}).addTo(placeLayer)
.bindPopup("<b>Sundarbans Ecological Zone</b><br>Repeated cyclones (e.g., Aila 2009) trigger evacuation, livelihood loss and long-term migration.");
  
/// STEP 1: Sundarbans → Bangladesh
L.polyline([
    [21.80, 89.00],
    [23.8103, 90.4125]
], {color:"red", weight:3})
.addTo(humanRouteLayer)
.bindPopup("<b>Ecological Displacement</b><br>Cyclones and erosion in the Sundarbans push vulnerable populations across nearby borders.");

// STEP 2: Bangladesh → Gulf
L.polyline([
    [23.8103, 90.4125],
    [25.2048, 55.2708]
], {color:"red", weight:3})
.addTo(humanRouteLayer)
.bindPopup("<b>Labour Migration Network</b><br>Traffickers channel migrants into Gulf labour markets promising economic survival.");

// STEP 3: Gulf → Malaysia
L.polyline([
    [25.2048, 55.2708],
    [3.1390, 101.6869]
], {color:"red", weight:3})
.addTo(humanRouteLayer)
.bindPopup("<b>Debt-Driven Mobility</b><br>When migrants cannot repay brokers, they are rerouted through clandestine Southeast Asian routes.");

// STEP 4: Malaysia → Indonesia
L.polyline([
    [3.1390, 101.6869],
    [-6.2088, 106.8456]
], {color:"red", weight:3})
.addTo(humanRouteLayer)
.bindPopup("<b>Forced Secondary Migration</b><br>Failed contracts lead to further smuggling across maritime borders.");

L.polyline(
  [
    [40.6782, -73.9442], // Brooklyn
    [22.5726, 88.3639]   // Kolkata
  ],
  {
    color: "gray",
    weight: 2,
    opacity: 0.6,
    dashArray: "3, 6"
  }
).addTo(humanRouteLayer)
.bindPopup(
  "<b>Climate-based seasonal movement (subplot)</b><br>" +
  "Dinanath Dutta’s regular winter migration from Brooklyn to Kolkata."
);

L.tileLayer(
  'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png',
  {
    attribution: '© OpenStreetMap © CARTO'
  }
).addTo(map);

// Place marker: Sundarbans
L.marker([21.9497, 89.1833]).addTo(placeLayer)
.bindPopup("<b>Sundarbans</b><br>Climate-vulnerable delta where human and non-human migration begins.");
map.fitBounds(humanRouteLayer.getBounds());

</script>

</body>
</html>
