<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Gun Island – Layered Map</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
  #map { height: 90vh; }
</style>
</head>

<body>

<h3>Gun Island – Base Map</h3>
<div id="map"></div>

<script>

// Create map (ONLY ONCE)
var map = L.map('map').setView([25, 50], 4);

// Base map — NO labels
L.tileLayer(
  'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png',
  { attribution: '© OpenStreetMap © CARTO' }
).addTo(map);

// marker pane on top
map.createPane('markerPaneTop');
map.getPane('markerPaneTop').style.zIndex = 650;

// Layers
var placeLayer = L.layerGroup().addTo(map);
var humanRouteLayer = L.featureGroup().addTo(map);
var animalRouteLayer = L.layerGroup().addTo(map);

// Sundarbans zone
L.polygon([
    [22.40, 88.10],
    [22.35, 89.10],
    [21.70, 89.60],
    [21.30, 89.20],
    [21.40, 88.20]
], {
    color: "green",
    fillColor: "green",
    fillOpacity: 0.25,
    weight: 2
}).addTo(placeLayer)
.bindPopup("<b>Sundarbans Ecological Zone</b><br>Repeated cyclones trigger migration.");

// Sundarbans origin
L.marker([21.80,89.00],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Sundarbans: Ecological Precarity</b><br>" +
"Repeated cyclones, saline intrusion and erosion destroy livelihoods. " +
"Environmental instability produces vulnerable populations who become targets of trafficking networks."
);

// Bangladesh transit
L.marker([23.8103,90.4125],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Bangladesh Transit Zone</b><br>" +
"Nearby borders enable informal crossing. Migration shifts from displacement to organised movement through brokers and middlemen."
);

// Gulf destination
L.marker([25.2048,55.2708],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Gulf Labour Circuits</b><br>" +
"Migrants enter exploitative labour markets. Promised economic mobility turns into contractual dependency and debt."
);

// Malaysia
L.marker([3.1390,101.6869],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Debt-Driven Mobility</b><br>" +
"When repayment fails, migrants are rerouted into clandestine Southeast Asian routes controlled by trafficking networks."
);

// Indonesia
L.marker([-6.2088,106.8456],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Secondary Smuggling Destination</b><br>" +
"Movement becomes cyclical displacement rather than settlement, illustrating precarious existence within globalised migration systems."
);
// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer);

// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River (India–Bangladesh border)
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer)
.bindPopup(
"<b>Raimangal River Border</b><br>" +
"A natural boundary dividing India and Bangladesh. " +
"In <i>Gun Island</i>, the river functions as a porous frontier enabling informal crossings and trafficking mobility."
);
/* ================= MAIN HUMAN TRAFFICKING ROUTE ================= */

var traffickingPath = [
    [21.80, 89.00],      // Sundarbans
    [23.8103, 90.4125],  // Bangladesh
    [25.2048, 55.2708],  // Gulf
    [3.1390, 101.6869],  // Malaysia
    [-6.2088, 106.8456]  // Indonesia
];

L.polyline(traffickingPath, {
    color: "red",
    weight: 4,
    opacity: 0.95
})
.addTo(humanRouteLayer)
.bindPopup(
"<b>Human Trafficking Route</b><br>" +
"Ecological displacement in the Sundarbans evolves into organised labour trafficking across South Asia, the Gulf economy and Southeast Asian maritime routes."
);
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Gun Island – Layered Map</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
  #map { height: 90vh; }
</style>
</head>

<body>

<h3>Gun Island – Base Map</h3>
<div id="map"></div>

<script>

// Create map (ONLY ONCE)
var map = L.map('map').setView([25, 50], 4);

// Base map — NO labels
L.tileLayer(
  'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png',
  { attribution: '© OpenStreetMap © CARTO' }
).addTo(map);

// marker pane on top
map.createPane('markerPaneTop');
map.getPane('markerPaneTop').style.zIndex = 650;

// Layers
var placeLayer = L.layerGroup().addTo(map);
var humanRouteLayer = L.featureGroup().addTo(map);
var animalRouteLayer = L.layerGroup().addTo(map);

// Sundarbans zone
L.polygon([
    [22.40, 88.10],
    [22.35, 89.10],
    [21.70, 89.60],
    [21.30, 89.20],
    [21.40, 88.20]
], {
    color: "green",
    fillColor: "green",
    fillOpacity: 0.25,
    weight: 2
}).addTo(placeLayer)
.bindPopup("<b>Sundarbans Ecological Zone</b><br>Repeated cyclones trigger migration.");

// Sundarbans origin
L.marker([21.80,89.00],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Sundarbans: Ecological Precarity</b><br>" +
"Repeated cyclones, saline intrusion and erosion destroy livelihoods. " +
"Environmental instability produces vulnerable populations who become targets of trafficking networks."
);

// Bangladesh transit
L.marker([23.8103,90.4125],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Bangladesh Transit Zone</b><br>" +
"Nearby borders enable informal crossing. Migration shifts from displacement to organised movement through brokers and middlemen."
);

// Gulf destination
L.marker([25.2048,55.2708],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Gulf Labour Circuits</b><br>" +
"Migrants enter exploitative labour markets. Promised economic mobility turns into contractual dependency and debt."
);

// Malaysia
L.marker([3.1390,101.6869],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Debt-Driven Mobility</b><br>" +
"When repayment fails, migrants are rerouted into clandestine Southeast Asian routes controlled by trafficking networks."
);

// Indonesia
L.marker([-6.2088,106.8456],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Secondary Smuggling Destination</b><br>" +
"Movement becomes cyclical displacement rather than settlement, illustrating precarious existence within globalised migration systems."
);
// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer);

// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River (India–Bangladesh border)
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer)
.bindPopup(
"<b>Raimangal River Border</b><br>" +
"A natural boundary dividing India and Bangladesh. " +
"In <i>Gun Island</i>, the river functions as a porous frontier enabling informal crossings and trafficking mobility."
);
/* ================= MAIN HUMAN TRAFFICKING ROUTE ================= */

var traffickingPath = [
    [21.80, 89.00],      // Sundarbans
    [23.8103, 90.4125],  // Bangladesh
    [25.2048, 55.2708],  // Gulf
    [3.1390, 101.6869],  // Malaysia
    [-6.2088, 106.8456]  // Indonesia
];

L.polyline(traffickingPath, {
    color: "red",
    weight: 4,
    opacity: 0.95
})
.addTo(humanRouteLayer)
.bindPopup(
"<b>Human Trafficking Route</b><br>" +
"Ecological displacement in the Sundarbans evolves into organised labour trafficking across South Asia, the Gulf economy and Southeast Asian maritime routes."
);

  /* ================= GUN MERCHANT COMPLETE LAYER ================= */

// route coordinates
var gunMerchantPath = [
    [21.80, 89.00],   // Bengal
    [15.50, 73.80],   // Goa
    [3.20, 73.22],    // Maldives
    [30.04, 31.23],   // Egypt
    [41.00, 28.97],   // Istanbul
    [37.60, 14.02],   // Sicily (Shikul Dwip)
    [45.44, 12.33]    // Venice
];
/* ===== Venice Image Marker ===== */
L.circleMarker([45.44,12.33],{
    radius:7,
    color:"purple",
    fillColor:"white",
    fillOpacity:1,
    pane:'markerPaneTop'
}).addTo(humanRouteLayer)
.bindPopup(
"<b>Bonduki Dwip – Venice (Island within Island)</b><br>" +
"<img src='venice.jpg' width='260'><br>" +
"Final refuge of the Gun Merchant. A floating migrant city — settlement without rooted belonging."
);


// route line
var gunMerchantRoute = L.polyline(gunMerchantPath,{
    color:"purple",
    weight:4,
    dashArray:"8,6",
    opacity:0.95
}).addTo(humanRouteLayer);

// long interpretation popup
gunMerchantRoute.bindPopup(
"<b>Cinta’s Reconstruction of the Gun Merchant’s Journey</b><br><br>" +

"<b>Bonduki Sadagar:</b> Not a gun seller. Derived from Arabic <i>al-Banduqiyya</i> meaning Venice — the merchant who travelled to Venice.<br><br>" +

"<b>Climate Displacement:</b> A Bengali merchant loses everything due to Little Ice Age floods and drought and is forced to leave by sea.<br><br>" +

"<b>Goa – In the 17th century, Portuguese pirates captured several people in the Bay of Bengal and sold them in Goa, the capital of the Portuguese Empire in Asia and a key hub of the Indian Ocean slave trade. During this time, the Gun Merchant’s ship was attacked, and he was taken captive and brought to Goa, where he was put up for sale. He was eventually bought by a well-traveled trader, Nakhuda Ilyas, who granted him freedom. Ilyas, originally a Portuguese Jew, had fled to Goa with his family to escape the Inquisition in Portugal. However, as the Inquisition reached Goa, he decided to leave the city, taking the Gun Merchant with him on a new journey.<br><br>" +

"<b>Maldives:</b> Gun Merchant along with Nakhuda Ilyas comes to Maldives Islands where thay acquire a cargo of cowrie shells, which were important in the trade of venice. and they set off to go to the Egypt.<br><br>" +

"<b>Tal-Mishri Desh (Egypt):</b> Entry to Mediterranean commerce.<br><br>" +

"<b>Rumali Desh (Istanbul):</b> The great Fire in Istanbul in 1960, followed by drought, famine and political unrest(Jews were expelled and they settled in Venice) force them migrate again.<br><br>" +

"<b>Shikul Dwip (Sicily – Land of Chains):</b> " +
"A transitional refuge in the Mediterranean. The name suggests captivity and passage, marking a liminal stage before settlement in Venice.<br><br>" +

"<b>Bonduki Dwip Island Within Island (Venice):</b> Final settlement — proving the legend preserves memory of early modern migration rather than divine punishment.<br><br>" +

"<b>Meaning:</b> The Gun Merchant is an early climate refugee whose journey records trade, slavery and empire across the Indian Ocean world."
);


// place markers
var gunPlaces = [
 ["Bengal – Climate loss origin",[21.80,89.00]],
 ["Goa – Portuguese slave market",[15.50,73.80]],
 ["Maldives – Cowrie trade",[3.20,73.22]],
 ["Egypt (Tal-Mishri Desh)",[30.04,31.23]],
 ["Istanbul (Rumali Desh)",[41.00,28.97]],
 ["Sicily (Shikul Dwip – Land of Chains)",[37.60,14.02]],
 ["Venice (Bonduki Dwip)",[45.44,12.33]]
];

gunPlaces.forEach(function(p){
    L.circleMarker(p[1],{
        radius:6,
        color:"purple",
        fillColor:"white",
        fillOpacity:1,
        pane:'markerPaneTop'
    }).addTo(humanRouteLayer)
      .bindPopup("<b>"+p[0]+"</b>");
});

/* ================= MUNIR REFUGEE ROUTE ================= */

var munirPath = [
    [23.8103, 90.4125],  // Dhaka (cyclone loss)
    [22.8456, 89.5403],  // Khulna (internal displacement)
    [55.7558, 37.6176],  // Russia
    [42.6977, 23.3219],  // Bulgaria
    [44.0165, 21.0059],  // Yugoslavia / Balkans region
    [41.8719, 12.5674]   // Italy (European entry)
];

var munirRoute = L.polyline(munirPath,{
    color:"#8B4513",
    weight:4,
    opacity:0.9
}).addTo(humanRouteLayer);
munirRoute.bindPopup(
"<b>Munir’s Refugee Migration</b><br><br>" +
"After a cyclone destroys his home in Dhaka, Munir moves to Khulna and begins an undocumented migration through Eurasian refugee corridors: Russia → Balkans → Italy.<br><br>" +
"This path reflects real contemporary refugee routes shaped by climate disaster, border control and survival mobility rather than trade or labour contracts."
);
var munirPlaces = [
["Dhaka – cyclone devastation",[23.8103,90.4125]],
["Khulna – internal displacement",[22.8456,89.5403]],
["Russia – entry into smuggling corridor",[55.7558,37.6176]],
["Bulgaria – Balkan border crossing",[42.6977,23.3219]],
["Yugoslavia/Balkans – refugee passage",[44.0165,21.0059]],
["Italy – European arrival",[41.8719,12.5674]]
];

munirPlaces.forEach(function(p){
    L.circleMarker(p[1],{
        radius:6,
        color:"#8B4513",
        fillColor:"white",
        fillOpacity:1,
        pane:'markerPaneTop'
    }).addTo(humanRouteLayer)
      .bindPopup("<b>"+p[0]+"</b>");
});
 
// zoom to route
setTimeout(function(){
    map.fitBounds(humanRouteLayer.getBounds());
},500);

</script>


</body>
</html>
