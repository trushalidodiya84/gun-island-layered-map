<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Gun Island – Layered Map</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
  #map { height: 90vh; }
</style>
</head>

<body>

<h3>Gun Island – Base Map</h3>
<div id="map"></div>

<script>

// Create map (ONLY ONCE)
var map = L.map('map').setView([25, 50], 4);

// Base map — NO labels
L.tileLayer(
  'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png',
  { attribution: '© OpenStreetMap © CARTO' }
).addTo(map);

// marker pane on top
map.createPane('markerPaneTop');
map.getPane('markerPaneTop').style.zIndex = 650;

// Layers
var placeLayer = L.layerGroup().addTo(map);
var humanRouteLayer = L.featureGroup().addTo(map);
var animalRouteLayer = L.layerGroup().addTo(map);

// Sundarbans zone
L.polygon([
    [22.40, 88.10],
    [22.35, 89.10],
    [21.70, 89.60],
    [21.30, 89.20],
    [21.40, 88.20]
], {
    color: "green",
    fillColor: "green",
    fillOpacity: 0.25,
    weight: 2
}).addTo(placeLayer)
.bindPopup("<b>Sundarbans Ecological Zone</b><br>Repeated cyclones trigger migration.");

// Sundarbans origin
L.marker([21.80,89.00],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Sundarbans: Ecological Precarity</b><br>" +
"Repeated cyclones, saline intrusion and erosion destroy livelihoods. " +
"Environmental instability produces vulnerable populations who become targets of trafficking networks."
);

// Bangladesh transit
L.marker([23.8103,90.4125],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Bangladesh Transit Zone</b><br>" +
"Nearby borders enable informal crossing. Migration shifts from displacement to organised movement through brokers and middlemen."
);

// Gulf destination
L.marker([25.2048,55.2708],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Gulf Labour Circuits</b><br>" +
"Migrants enter exploitative labour markets. Promised economic mobility turns into contractual dependency and debt."
);

// Malaysia
L.marker([3.1390,101.6869],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Debt-Driven Mobility</b><br>" +
"When repayment fails, migrants are rerouted into clandestine Southeast Asian routes controlled by trafficking networks."
);

// Indonesia
L.marker([-6.2088,106.8456],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Secondary Smuggling Destination</b><br>" +
"Movement becomes cyclical displacement rather than settlement, illustrating precarious existence within globalised migration systems."
);
// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer);

// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River (India–Bangladesh border)
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer)
.bindPopup(
"<b>Raimangal River Border</b><br>" +
"A natural boundary dividing India and Bangladesh. " +
"In <i>Gun Island</i>, the river functions as a porous frontier enabling informal crossings and trafficking mobility."
);
/* ================= MAIN HUMAN TRAFFICKING ROUTE ================= */

var traffickingPath = [
    [21.80, 89.00],      // Sundarbans
    [23.8103, 90.4125],  // Bangladesh
    [25.2048, 55.2708],  // Gulf
    [3.1390, 101.6869],  // Malaysia
    [-6.2088, 106.8456]  // Indonesia
];

L.polyline(traffickingPath, {
    color: "red",
    weight: 4,
    opacity: 0.95
})
.addTo(humanRouteLayer)
.bindPopup(
"<b>Human Trafficking Route</b><br>" +
"Ecological displacement in the Sundarbans evolves into organised labour trafficking across South Asia, the Gulf economy and Southeast Asian maritime routes."
);
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Gun Island – Layered Map</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
  #map { height: 90vh; }
</style>
</head>

<body>

<h3>Gun Island – Base Map</h3>
<div id="map"></div>

<script>

// Create map (ONLY ONCE)
var map = L.map('map').setView([25, 50], 4);

// Base map — NO labels
L.tileLayer(
  'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png',
  { attribution: '© OpenStreetMap © CARTO' }
).addTo(map);

// marker pane on top
map.createPane('markerPaneTop');
map.getPane('markerPaneTop').style.zIndex = 650;

// Layers
var placeLayer = L.layerGroup().addTo(map);
var humanRouteLayer = L.featureGroup().addTo(map);
var animalRouteLayer = L.layerGroup().addTo(map);

// Sundarbans zone
L.polygon([
    [22.40, 88.10],
    [22.35, 89.10],
    [21.70, 89.60],
    [21.30, 89.20],
    [21.40, 88.20]
], {
    color: "green",
    fillColor: "green",
    fillOpacity: 0.25,
    weight: 2
}).addTo(placeLayer)
.bindPopup("<b>Sundarbans Ecological Zone</b><br>Repeated cyclones trigger migration.");

// Sundarbans origin
L.marker([21.80,89.00],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Sundarbans: Ecological Precarity</b><br>" +
"Repeated cyclones, saline intrusion and erosion destroy livelihoods. " +
"Environmental instability produces vulnerable populations who become targets of trafficking networks."
);

// Bangladesh transit
L.marker([23.8103,90.4125],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Bangladesh Transit Zone</b><br>" +
"Nearby borders enable informal crossing. Migration shifts from displacement to organised movement through brokers and middlemen."
);

// Gulf destination
L.marker([25.2048,55.2708],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Gulf Labour Circuits</b><br>" +
"Migrants enter exploitative labour markets. Promised economic mobility turns into contractual dependency and debt."
);

// Malaysia
L.marker([3.1390,101.6869],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Debt-Driven Mobility</b><br>" +
"When repayment fails, migrants are rerouted into clandestine Southeast Asian routes controlled by trafficking networks."
);

// Indonesia
L.marker([-6.2088,106.8456],{pane:'markerPaneTop'}).addTo(humanRouteLayer)
.bindPopup(
"<b>Secondary Smuggling Destination</b><br>" +
"Movement becomes cyclical displacement rather than settlement, illustrating precarious existence within globalised migration systems."
);
// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer);

// subplot route
L.polyline([[40.6782,-73.9442],[22.5726,88.3639]], {
  color:"gray", weight:2, opacity:0.6, dashArray:"3,6"
}).addTo(humanRouteLayer);

// Raimangal River (India–Bangladesh border)
L.polyline([
    [22.10, 89.05],
    [22.00, 89.10],
    [21.95, 89.15],
    [21.90, 89.20],
    [21.85, 89.25],
    [21.80, 89.30]
], {
    color: "blue",
    weight: 3,
    opacity: 0.8,
    dashArray: "8,6"
}).addTo(placeLayer)
.bindPopup(
"<b>Raimangal River Border</b><br>" +
"A natural boundary dividing India and Bangladesh. " +
"In <i>Gun Island</i>, the river functions as a porous frontier enabling informal crossings and trafficking mobility."
);
/* ================= MAIN HUMAN TRAFFICKING ROUTE ================= */

var traffickingPath = [
    [21.80, 89.00],      // Sundarbans
    [23.8103, 90.4125],  // Bangladesh
    [25.2048, 55.2708],  // Gulf
    [3.1390, 101.6869],  // Malaysia
    [-6.2088, 106.8456]  // Indonesia
];

L.polyline(traffickingPath, {
    color: "red",
    weight: 4,
    opacity: 0.95
})
.addTo(humanRouteLayer)
.bindPopup(
"<b>Human Trafficking Route</b><br>" +
"Ecological displacement in the Sundarbans evolves into organised labour trafficking across South Asia, the Gulf economy and Southeast Asian maritime routes."
);

  /* ================= GUN MERCHANT COMPLETE LAYER ================= */

// route coordinates
var gunMerchantPath = [
    [21.80, 89.00],   // Bengal
    [15.50, 73.80],   // Goa
    [3.20, 73.22],    // Maldives
    [30.04, 31.23],   // Egypt
    [41.00, 28.97],   // Istanbul
    [45.44, 12.33]    // Venice
];

// route line
var gunMerchantRoute = L.polyline(gunMerchantPath,{
    color:"purple",
    weight:4,
    dashArray:"8,6",
    opacity:0.95
}).addTo(humanRouteLayer);

// long interpretation popup
gunMerchantRoute.bindPopup(
"<b>Cinta’s Reconstruction of the Gun Merchant’s Journey</b><br><br>" +

"<b>Bonduki Sadagar:</b> Not a gun seller. Derived from Arabic <i>al-Banduqiyya</i> meaning Venice — the merchant who travelled to Venice.<br><br>" +

"<b>Climate Displacement:</b> A Bengali merchant loses everything due to Little Ice Age floods and drought and is forced to leave by sea.<br><br>" +

"<b>Goa – Turning Point:</b> Captured by Portuguese pirates in the Bay of Bengal and sold in Goa. Freed by Nakhuda Ilyas, a Jewish trader fleeing the Inquisition. They become trading partners.<br><br>" +

"<b>Maldives:</b> Gun Merchant along with Nakhuda Ilyas comes to Maldives Islands where thay acquire a cargo of cowrie shells, which were important in the trade of venice. and they set off to go to the Egypt.<br><br>" +

"<b>Tal-Mishri Desh (Egypt):</b> Entry to Mediterranean commerce.<br><br>" +

"<b>Rumali Desh (Istanbul):</b> The great Fire in Istanbul in 1960, followed by drought, famine and political unrest(Jews were expelled and they settled in Venice) force them migrate again.<br><br>" +

"<b>Banduqiyya (Venice):</b> Final settlement — proving the legend preserves memory of early modern migration rather than divine punishment.<br><br>" +

"<b>Meaning:</b> The Gun Merchant is an early climate refugee whose journey records trade, slavery and empire across the Indian Ocean world."
);


// place markers
var gunPlaces = [
 ["Bengal – Climate loss origin",[21.80,89.00]],
 ["Goa – Portuguese slave market",[15.50,73.80]],
 ["Maldives – Cowrie trade",[3.20,73.22]],
 ["Egypt (Tal-Mishri Desh-Tha Land of Palm Sugar Candy)",[30.04,31.23]],
 ["Istanbul (Rumali Desh- The Land of Kerchieves)",[41.00,28.97]],
 ["Venice (Banduki Dwip- Dwiper Bhetorey Dwip- The Gun Island)",[45.44,12.33]]
];

gunPlaces.forEach(function(p){
    L.circleMarker(p[1],{
        radius:6,
        color:"purple",
        fillColor:"white",
        fillOpacity:1,
        pane:'markerPaneTop'
    }).addTo(humanRouteLayer)
      .bindPopup("<b>"+p[0]+"</b>");
});

  
// zoom to route
setTimeout(function(){
    map.fitBounds(humanRouteLayer.getBounds());
},500);

</script>


</body>
</html>
