<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Gun Island – Animal Migration</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
#map { height: 95vh; }
</style>
</head>

<body>

<h3>Gun Island – Animal Migration Map</h3>
<div id="map"></div>

<script>

// create map
var map = L.map('map').setView([20, 40], 3);

// clean basemap
L.tileLayer(
'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png',
{ attribution: '© OpenStreetMap © CARTO' }
).addTo(map);

// layer for animals
var animalLayer = L.featureGroup().addTo(map);

/* ================= DOLPHIN MOVEMENT NETWORK ================= */

var dolphinPath = [
    [21.90, 88.90], // inner mangrove creek
    [21.85, 89.05], // Raimangal estuary
    [21.70, 89.20], // delta mouth
    [21.40, 89.40], // coastal mixing water
    [21.00, 89.80], // shallow bay feeding zone
    [20.60, 90.20], // open bay
    [20.90, 89.70], // return current path
    [21.30, 89.30], // tidal channel
    [21.70, 89.10], // estuary return
    [21.90, 88.95]  // mangrove re-entry
];

L.polyline(dolphinPath,{
    color:"blue",
    weight:3,
    opacity:0.8,
    smoothFactor:1.5
}).addTo(animalLayer)
.bindPopup("Irrawaddy dolphin tidal feeding migration network");
dolphinPath.forEach(function(pt){
    L.circleMarker(pt,{
        radius:4,
        color:"blue",
        fillColor:"white",
        fillOpacity:1
    }).addTo(animalLayer);
});
/* ================= ANIMAL MIGRATION NETWORK ================= */

var animalLayer = L.featureGroup().addTo(map);

/* Core ecological nodes */

var nodes = {
    mangroveNorth: [21.95, 89.00],
    mangroveSouth: [21.75, 89.15],
    estuary: [21.60, 89.30],
    deltaMouth: [21.40, 89.45],
    coastalZone: [21.10, 89.60],
    offshoreZone: [20.80, 89.85]
};

/* Draw corridor connections */

function connect(a,b){
    L.polyline([a,b],{
        color:"blue",
        weight:3,
        opacity:0.85
    }).addTo(animalLayer);
}

connect(nodes.mangroveNorth, nodes.mangroveSouth);
connect(nodes.mangroveSouth, nodes.estuary);
connect(nodes.estuary, nodes.deltaMouth);
connect(nodes.deltaMouth, nodes.coastalZone);
connect(nodes.coastalZone, nodes.offshoreZone);

/* Add node markers */

Object.values(nodes).forEach(function(pt){
    L.circleMarker(pt,{
        radius:5,
        color:"blue",
        fillColor:"white",
        fillOpacity:1
    }).addTo(animalLayer);
});

map.fitBounds(animalLayer.getBounds());



</script>
</body>
</html>
